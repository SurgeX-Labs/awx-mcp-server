# AWX MCP Server - Environment Configuration

# =============================================================================
# Server Configuration
# =============================================================================

# Host to bind to (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
AWX_MCP_HOST=0.0.0.0

# Port to listen on
AWX_MCP_PORT=8000

# Enable debug mode (verbose logging)
AWX_MCP_DEBUG=false

# Log level: debug, info, warning, error, critical
AWX_MCP_LOG_LEVEL=info

# =============================================================================
# Authentication
# =============================================================================

# Admin token for managing API keys (CHANGE THIS IN PRODUCTION!)
# Generate with: openssl rand -hex 32
ADMIN_TOKEN=change-this-to-secure-random-token

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins (comma-separated, * for all)
# Example: https://app1.example.com,https://app2.example.com
AWX_MCP_CORS_ORIGINS=*

# Allow credentials in CORS requests
AWX_MCP_CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# SSL/TLS Configuration (Optional - use reverse proxy instead)
# =============================================================================

# Path to SSL certificate (leave empty to use HTTP)
# AWX_MCP_SSL_CERT=/path/to/cert.pem

# Path to SSL private key
# AWX_MCP_SSL_KEY=/path/to/key.pem

# =============================================================================
# Storage Configuration
# =============================================================================

# Base directory for tenant data
# Default: ~/.awx-mcp
# AWX_MCP_DATA_DIR=/data/awx-mcp

# Keyring backend (optional, auto-detected by default)
# Options: keyrings.cryptfile, keyring.backends.SecretService, etc.
# AWX_MCP_KEYRING_BACKEND=

# =============================================================================
# Rate Limiting (Coming Soon)
# =============================================================================

# Max requests per minute per API key
# AWX_MCP_RATE_LIMIT=100

# =============================================================================
# Monitoring & Metrics
# =============================================================================

# Enable Prometheus metrics endpoint
# AWX_MCP_METRICS_ENABLED=true

# Metrics endpoint path
# AWX_MCP_METRICS_PATH=/metrics/prometheus

# =============================================================================
# AWX Client Configuration
# =============================================================================

# Default timeout for AWX API requests (seconds)
AWX_MCP_AWX_TIMEOUT=30

# Prefer awxkit CLI over REST API
AWX_MCP_PREFER_CLI=true

# =============================================================================
# Production Settings
# =============================================================================

# Workers for uvicorn (0 = auto-detect based on CPU cores)
# AWX_MCP_WORKERS=0

# Worker class (uvicorn.workers.UvicornWorker or uvicorn.workers.UvicornH11Worker)
# AWX_MCP_WORKER_CLASS=uvicorn.workers.UvicornWorker

# Reload on code changes (development only!)
# AWX_MCP_RELOAD=false

# =============================================================================
# Logging Configuration
# =============================================================================

# Log format: json or console
AWX_MCP_LOG_FORMAT=json

# Log file path (optional, logs to stdout by default)
# AWX_MCP_LOG_FILE=/var/log/awx-mcp/server.log

# =============================================================================
# Example Configurations
# =============================================================================

# Development
# -----------
# AWX_MCP_HOST=127.0.0.1
# AWX_MCP_PORT=8000
# AWX_MCP_DEBUG=true
# AWX_MCP_LOG_LEVEL=debug
# AWX_MCP_RELOAD=true

# Production
# ----------
# AWX_MCP_HOST=0.0.0.0
# AWX_MCP_PORT=8000
# AWX_MCP_DEBUG=false
# AWX_MCP_LOG_LEVEL=info
# AWX_MCP_WORKERS=4
# AWX_MCP_CORS_ORIGINS=https://yourdomain.com
# Use nginx/load balancer for SSL termination
